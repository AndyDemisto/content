commonfields:
  id: GetTime
  version: -1
name: GetTime
script: |-
  var d = new Date();
  if ((args.date) && (args.date.length > 0)){
      d =  new Date(args.date);
  }
  return {Type: entryTypes.note, Contents: String(d), ContentsFormat: formats.text,
      EntryContext: {TimeNowUnix: String(d.getTime()), TimeNow: String(d)}};
type: javascript
tags:
- Utility
comment: |
  Retrieves the current date and time.
enabled: true
args:
- name: date
  default: true
  description: The date to use in the object
outputs:
- contextPath: TimeNowUnix
  description: number of milliseconds since 1970/01/01
- contextPath: TimeNow
  description: current time in ISO format
scripttarget: 0
