commonfields:
  id: Giphy
  version: -1
name: Giphy
display: Giphy
system: true
category: Utilities
image: data:image/png;base64,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
description: Display random GIF in the War Room (e.g. !giphy hello). Powered By Giphy.
detaileddescription: |-
  You can get API Key from: https://github.com/Giphy/GiphyAPI#access-and-api-keys.

  Powered By Giphy.
configuration:
- display: Giphy URL
  name: url
  defaultvalue: http://api.giphy.com/v1/gifs/random
  type: 0
  required: true
- display: API Key
  name: apikey
  defaultvalue: ""
  type: 4
  required: true
script:
  script: |-
    var sendRequest = function(tag) {
        var serverUrl = params.url;
        if (serverUrl[serverUrl.length - 1] === '/') {
          serverUrl = serverUrl.substring(0, serverUrl.length - 1);
        }

        var apiKey = params.apikey;
        var requestUrl = serverUrl + '?api_key=' + apiKey + '&tag=' + encodeURIComponent(tag);
        var res = http(requestUrl, { Method: 'GET' });

        if (res.StatusCode < 200 || res.StatusCode >= 300) {
            throw 'Request Failed.\nStatus code: ' + res.StatusCode + '.\nBody: ' + JSON.stringify(res) + '.';
        }

        return JSON.parse(res.Body);
    };

    // The command input arg holds the command sent from the user.
    switch (command) {
        // This is the call made when pressing the integration test button.
        case 'test-module':
            if (sendRequest(tag)) {
                return 'ok';
            }
            return 'not ok';
        case 'giphy':
            var tag = args.tag;
            var asJson = args['as-json'] === 'true';
            var res = sendRequest(tag);

            if (asJson) {
                return res;
            }

            if (res.data && res.data.fixed_height_downsampled_url) {
                var url = res.data.fixed_height_downsampled_url;
                return {
                    ContentsFormat: 'markdown',
                    Type: 1,
                    Contents: '![Giphy ' + tag + '](' + url + ')'
                };
            }

            return 'Nothing found :(';
        default:
            // do nothing
    }
  type: javascript
  commands:
  - name: giphy
    arguments:
    - name: tag
      default: true
      description: The GIF tag to limit randomness by
    - name: as-json
      auto: PREDEFINED
      predefined:
      - "true"
      - "false"
      description: Returns the response as JSON
    description: Display random GIF in the War Room (e.g. !giphy hello)
